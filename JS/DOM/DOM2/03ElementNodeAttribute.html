<!DOCTYPE html>
<html>
<head>
	<title>Document</title>
	<script type="text/javascript">
		/*
			包括 回车 换行 tab键 空格 字符
		*/
		window.onload = function(){
			var oDiv = document.getElementById("div1");

			// alert(oDiv.childNodes.length); //5

			/*
				【问题】如何将空白节点取出。
				【注】识别出空白节点。

				/^\s+$/.test() 使用左侧的正则去进行验证，如果是空白节点，返回true，否则返回false
			*/

			// alert(oDiv.childNodes.length);
			/*alert(oDiv.childNodes[0].nodeType);

			var nodes = removeSpaceNode(oDiv.childNodes);
			// alert(nodes.length);

			alert(nodes[0].nodeName);

			alert(oDiv.childNodes.length);*/


			// alert(/^\s+$/.test("    "));


			/*
				使用firsChild lastChild
				必须从父节点上删除空白节点
			*/

			/*removeSpanceNode2(oDiv);

			alert(oDiv.childNodes.length);
			alert(oDiv.firstChild.nodeName);*/

			//删除数组元素的时候，必须倒序删除。

			//3, 4, 5, 5, 5, 4, 3

			var arrs = [1,,2,,3,,,,4,5];
			alert(arrs.length);
			removeSpace(arrs);
			alert(arrs.length);

		}

		function removeSpanceNode2(parent){
			var nodes = parent.childNodes;
			for(var i = nodes.length - 1; i >= 0; i--){
				if(nodes[i].nodeType == 3 && /^\s+$/.test(nodes[i].nodeValue)){
					//删除该空白节点
					parent.removeChild(nodes[i]);
				}
			}
		}

		//删除空白节点
		function removeSpaceNode(nodes){
			var result = []; //用来存放不是空白节点的节点的
			//判断是否是空白节点
			for (var i = 0; i < nodes.length; i++) {
				if(nodes[i].nodeType == 3 && /^\s+$/.test(nodes[i].nodeValue)){
					continue;
				}
				result.push(nodes[i]);
			}
			return result;
		}

		function removeSpace(arr){
			//倒序删除
// 第一轮
// (下标)0 (值)1
// (下标)2 (值)2
// (下标)4 (值)3
// (下标)8 (值)4
// (下标)9 (值)5

// 第二轮
// (下标)0 (值)1
// (下标)2 (值)2
// (下标)4 (值)3
// (下标)8 (值)4
// (下标)9 (值)5

// 第三轮
// (下标)0 (值)1
// (下标)2 (值)2
// (下标)4 (值)3
// (下标)7 (值)4
// (下标)8 (值)5

// .
// .
// .
// 第八轮
// (下标)0 (值)1
// (下标)1 (值)2
// (下标)2 (值)3
// (下标)3 (值)4
// (下标)4 (值)5

			for(var i = arr.length - 1; i >= 0 ; i--){
				if(!arr[i]){
					arr.splice(i,1);
				}
			}
			//正序删除
// 第一轮
// (下标)0 (值)1
// (下标)2 (值)2
// (下标)4 (值)3
// (下标)8 (值)4
// (下标)9 (值)5

// 第二轮
// (下标)0 (值)1
// (下标)1 (值)2
// (下标)3 (值)3
// (下标)7 (值)4
// (下标)8 (值)5

// 第三轮
// (下标)0 (值)1
// (下标)1 (值)2
// (下标)2 (值)3
// (下标)6 (值)4
// (下标)7 (值)5

// .
// .
// .
// 第五轮
// (下标)0 (值)1
// (下标)1 (值)2
// (下标)2 (值)3
// (下标)3 (值)4
// (下标)4 (值)5

			// for(var i = 0; i < arr.length ; i++){
			// 	if(!arr[i]){
			// 		arr.splice(i,1);
			// 	}
			// }
		}
	</script>
</head>
<body>
	<div id = "div1">
		<em>斜体</em>
		文本内容
		<strong>粗体</strong>
	</div>
</body>
</html>